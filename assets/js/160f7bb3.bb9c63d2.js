"use strict";(self.webpackChunkfrisa_lab_doc=self.webpackChunkfrisa_lab_doc||[]).push([[9861],{3905:function(e,t,a){a.d(t,{Zo:function(){return c},kt:function(){return m}});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),d=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},c=function(e){var t=d(e.components);return n.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=d(a),m=r,k=u["".concat(s,".").concat(m)]||u[m]||p[m]||o;return a?n.createElement(k,i(i({ref:t},c),{},{components:a})):n.createElement(k,i({ref:t},c))}));function m(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,i=new Array(o);i[0]=u;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var d=2;d<o;d++)i[d]=a[d];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},2469:function(e,t,a){a.r(t),a.d(t,{assets:function(){return c},contentTitle:function(){return s},default:function(){return m},frontMatter:function(){return l},metadata:function(){return d},toc:function(){return p}});var n=a(7462),r=a(3366),o=(a(7294),a(3905)),i=["components"],l={},s="Intro",d={unversionedId:"backend/intro",id:"backend/intro",title:"Intro",description:"Overview",source:"@site/docs/backend/intro.md",sourceDirName:"backend",slug:"/backend/intro",permalink:"/frisa-lab-doc/docs/backend/intro",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/backend/intro.md",tags:[],version:"current",frontMatter:{},sidebar:"backendSidebar",next:{title:"ClientesController",permalink:"/frisa-lab-doc/docs/backend/controllers/ClientesController"}},c={},p=[{value:"Overview",id:"overview",level:2},{value:"Conceptos Importantes",id:"conceptos-importantes",level:2},{value:"Modelos",id:"modelos",level:3},{value:"Controladores",id:"controladores",level:3},{value:"Metodos",id:"metodos",level:4}],u={toc:p};function m(e){var t=e.components,a=(0,r.Z)(e,i);return(0,o.kt)("wrapper",(0,n.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"intro"},"Intro"),(0,o.kt)("h2",{id:"overview"},"Overview"),(0,o.kt)("p",null,"El backend del module para laboratorios es un servidor creado con ",(0,o.kt)("a",{parentName:"p",href:"https://docs.microsoft.com/en-us/aspnet/core/?view=aspnetcore-6.0"},"ASP.NET Core 6"),"."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Tiene dos responsabilidades principales")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Funcionar como interfaz entre la base de datos y el frontend que utilizan los usuarios."),(0,o.kt)("li",{parentName:"ul"},"Aplicar logica de negocio a todas las interacciones entre el usuario y la base de datos.")),(0,o.kt)("h2",{id:"conceptos-importantes"},"Conceptos Importantes"),(0,o.kt)("p",null,"La estructura del backend consiste en los siguentes tipos de objetos. "),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Modelos"),(0,o.kt)("li",{parentName:"ul"},"Controladores"),(0,o.kt)("li",{parentName:"ul"},"SPAdapter"),(0,o.kt)("li",{parentName:"ul"},"DBContext")),(0,o.kt)("p",null,"Si consideramos que en un polo del ecosistema esta el frontend utilizado por los usuarios, el otro polo es la base de datos.\nEntre esos dos extremos estan los controladores. Los controladores se encargan de aplicar de procesar los datos recibidos por un extremo y prepararlos para que el otro\nextremo los pueda recibir. "),(0,o.kt)("p",null,"Al mismo tiempo, tiene la responsabilidad de aplicar logica de negocio. Por ejemplo, evitar que usuarios no autorizados puedan leer o escribir a la base de datos.\nMantener log de cambios, etc."),(0,o.kt)("h3",{id:"modelos"},"Modelos"),(0,o.kt)("p",null,"Los tipos de datos que reconoce el sistema. Ejemplos podrian ser: ",(0,o.kt)("inlineCode",{parentName:"p"},"Pieza"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"MaterialDePrueba"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"Corte"),", etc.\nAunque los stored procedures no regresen tuplas que se conformen a los modelos, la primer tarea de los controladores al\nrecibir informacion de la base de datos, es transformarla en sus respectivos modelos."),(0,o.kt)("p",null,"La manera que los Controladores transforman los datos de la base de datos en modelos es a travez de ",(0,o.kt)("inlineCode",{parentName:"p"},"SPAdapter"),"."),(0,o.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"La manera mas comun de hacer esta transforacion en ",(0,o.kt)("strong",{parentName:"p"},"ASP.NET")," es utilizando ",(0,o.kt)("a",{parentName:"p",href:"https://docs.microsoft.com/en-us/ef/"},"Entity Framework"),".\nEn este caso, no podemos utilizarlo porque estamos limitados a interactuar con la base de datos unicamente a travez de stored procedures.\nAsi que se tuvo que hacer un adaptador a la medida: ",(0,o.kt)("strong",{parentName:"p"},"SPAdapter"),"."))),(0,o.kt)("h3",{id:"controladores"},"Controladores"),(0,o.kt)("p",null,"Los controladores se encargan de orquestrar todos los demas componentes del sistema para cumplir sus dos responsabilidades."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Funcionar como interfaz entre la base de datos y el frontend que utilizan los usuarios."),(0,o.kt)("li",{parentName:"ul"},"Aplicar logica de negocio a todas las interacciones entre el usuario y la base de datos.")),(0,o.kt)("p",null,"En la mayoria de los casos, el sistema tiene ",(0,o.kt)("strong",{parentName:"p"},"un controlador por modelo"),".\n",(0,o.kt)("inlineCode",{parentName:"p"},"MaterialDePrueba")," tiene ",(0,o.kt)("inlineCode",{parentName:"p"},"MaterialesDePruebaController"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"Cliente")," tiene ",(0,o.kt)("inlineCode",{parentName:"p"},"ClientesController"),", etc."),(0,o.kt)("p",null,"El objetivo de este esquema es que cada aplicacion externa sepa que controlador debe llamar, con tal de que sepa que dato necesita.\nCada controlador tiene cuatro acciones, ",(0,o.kt)("inlineCode",{parentName:"p"},"leer"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"escribir"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"actualizar"),", y ",(0,o.kt)("inlineCode",{parentName:"p"},"eliminar"),"; esquema conocido como ",(0,o.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Create,_read,_update_and_delete"},"CRUD"),".\nCada accion esta relacionada a un metodo de HTTP."),(0,o.kt)("h4",{id:"metodos"},"Metodos"),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Cuando un controlador recibe un request de HTTP, lee el metodo para saber que accion ejecutar.")),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},"Accion"),(0,o.kt)("th",{parentName:"tr",align:null},"Metodo"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"Leer"),(0,o.kt)("td",{parentName:"tr",align:null},"HttpGet")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"Escribir"),(0,o.kt)("td",{parentName:"tr",align:null},"HttpPost")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"Actualizar"),(0,o.kt)("td",{parentName:"tr",align:null},"HttpPut")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"Eliminar"),(0,o.kt)("td",{parentName:"tr",align:null},"HttpDelete")))),(0,o.kt)("p",null,"ASP.NET le ",(0,o.kt)("strong",{parentName:"p"},"asigna automaticamente una ruta a cada controlador"),"."),(0,o.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Referir ",(0,o.kt)("a",{parentName:"p",href:"https://docs.microsoft.com/en-us/aspnet/mvc/overview/older-versions-1/controllers-and-routing/aspnet-mvc-controllers-overview-cs"},"aqui")," para aprender mas sobre controladores en ",(0,o.kt)("strong",{parentName:"p"},"ASP.NET"),"."))))}m.isMDXComponent=!0}}]);